!!!
%html
  %head
    %title Swap My Vote
    %meta{property: "fb:app_id", content: "#{ENV['FACEBOOK_KEY']}"}
    %meta{property: "og:type", content: "website"}
    %meta{property: "og:title", content: "Swap My Vote | Donâ€™t just wait for electoral reform - make your vote count this December 12th"}
    %meta{property: "og:image", content: image_url("facebook_sharing_banner.jpg")}
    %meta{property: "og:image:width", content: "1500"}
    %meta{property: "og:image:height", content: "786"}
    %meta{property: "og:site_name", content: "Swap My Vote"}
    %meta{property: "og:description", content: "Make votes matter! Swap yours with someone in a constituency where both could count for more. You get to vote for who you really want, and help someone else do the same."}
    %meta{property: "og:url", content: "https://www.swapmyvote.uk"}
    %meta{name: "viewport", content: "width=device-width, initial-scale=1"}

    = favicon_link_tag(source="favicon_16.png", {sizes: "16x16"})
    = favicon_link_tag(source="favicon_32.png", {sizes: "32x32"})

    %link{href: "https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css", rel: "stylesheet"}/
    %script{src: "https://www.gstatic.com/charts/loader.js", type: "text/javascript"}
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    = csrf_meta_tags

    %script{src: "https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js", :data-cfasync=> "false"}

    = render partial: 'layouts/cookie_consent'
    = render partial: 'layouts/google_analytics'

  %body
    .navbar
      = link_to "SwapMyVote", root_path, class: "brand"

      - if logged_in?
        = render partial: "layouts/current_user"
      - elsif swapping_open? || params[:opensesame]
        = render partial: "layouts/login"

    - if flash[:errors]
      .error.border-bottom
        - for error in flash[:errors]
          %p.text-error.text-center= error

    = yield

    = render partial: 'layouts/footer'
